<head>
  <script src="/js/vendor/video.min.js"></script>
  <script src="/js/vendor/videojs.endcapCTA.js"></script>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../js/vendor/jquery-2.1.4.min.js"><\/script>')</script>
  <script src="/js/vendor/jquery.validate.js"></script>
  <script src="/js/vendor/jquery.form.js"></script>

  <link rel="stylesheet" href="/css/video-js.min.css">
  <link rel="stylesheet" href="/css/videojs.endcapCTA.css">

</head>

<body>
  <video id="video-id" class="video-js vjs-default-skin">
    <source src="video.mp4" type='video/mp4'>
    <source src="video.webm" type='video/webm'>
    <source src="video.ogv" type='video/webm'>
    <p class="vjs-no-js">
      <a href="https://www.youtube.com/watch?v=...." target="_blank">View this video on YouTube</a>
    </p>
  </video>
  <script type="text/javascript">

    var video = videojs('video-id', {
      "width":680,
      "height":495,
      "autoplay": true,
      "controls": true,
      "preload": "auto"
    });

    video.endcapCTA({
      html: '<section class="endcapCallToActionContent">....</section>',
      run: function() {
        // This runs upon creation of endcapCTA, just after video starts playing
      }
    });

    function watchAgain() {
      video.play();
    }

    function submitAndSpin() {
      $('.sending').show();
      //
      // Do form submission stuff here
      // Hide/show the success/failure/sending <li>s
      //
      return false;
    }

    // prep the form to do JS magic if available
    window.setTimeout(function() {
      $('#loveToHearForm').validate({
        submitHandler: function(form) {
          submitAndSpin();
        },
        messages: {
          name: 'Please enter your name',
          company: 'Please enter your company',
          email: 'Please enter your email address so we can contact you',
          message: 'Please enter a short message of what we can do to help'
        }
      });
    }, 100);

  </script>
</body>